<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Basic Principles of Operation</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part137.htm">&lt; Назад</a><span> | </span><a href="../index.html">Содержимое</a><span> | </span><a href="part139.htm">Далее &gt;</a></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark136" name="bookmark1035">Basic Principles of Operation</a><a name="bookmark1110">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Storage Organization</h4><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">A magnetic disk&#39;s surface has a number of invisible, concentric circles called <i>tracks</i><a href="part138.htm#bookmark1112" class="s23">. Tracks have numbers consecutively from outermost to innermost starting from zero (see </a><a href="part138.htm#bookmark1112" class="s3">Figure </a><span class="s46">5.13</span>). Number of tracks varies greatly, with low-capacity disks having as few as 40 tracks and high- capacity disks having several thousands tracks.</p><p class="s46" style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a href="part138.htm#bookmark1113" class="s23">A magnetic disk&#39;s surface also has invisible, pie-shaped segments (see </a><a href="part138.htm#bookmark1113" class="s3">Figure </a>5.14<span class="p">). Hence, if</span></p><p style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">there are eight such segments, each track has eight parts. Each such part of a track is called a</p><p class="s16" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">sector<span class="p">.</span></p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Typically, a sector contains 512 bytes. It is the smallest unit of data access by a disk drive. That is, disk drives can access (read/write) a complete sector at a time. Even if a computer needs to change just one byte out of 512 bytes stored on a sector, it rewrites the entire sector.</p><p class="s46" style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a href="part138.htm#bookmark1113" class="s23" name="bookmark1111">Notice from </a><a href="part138.htm#bookmark1113" class="s3">Figure </a>5.14<span class="s10"> </span><a href="part138.htm#bookmark1114" class="s23">that the sectors on the outer tracks are longer than sectors on the inner tracks. Since each sector records the same number of characters (usually 512 characters), length of the sectors on the innermost track determines the storage capacity of the sectors on all other tracks of a disk. This means that storage space remains underutilized on the sectors on the outer tracks of the disk. This is a disadvantage of dividing a disk&#39;s surface into pie-shaped segments. To avoid this problem, some systems partition a disk&#39;s surface in such a manner that all sectors occupy approximately the same amount of space. </a><a href="part138.htm#bookmark1114" class="s3">Figure </a>5.15<span class="s10"> </span><a href="part138.htm#bookmark1114" class="s23">shows one such type of partitioning. This method first partitions tracks into groups, with tracks in different groups having different number of sectors per track. For example, the disk in </a><a href="part138.htm#bookmark1114" class="s3">Figure </a>5.15<span class="p">, partitions tracks into three groups. Tracks in the innermost group have 8 sectors per track, tracks in the next group have 9 sectors per track, and tracks in the outermost group have 10 sectors per track. Using this new method of disk partitioning, Apple was able to increase the storage capacity of its 3½-inch floppy disk by about 40%.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 173pt;text-indent: 0pt;text-align: left;"><span><img width="178" height="211" alt="image" src="Image_351.jpg"/></span></p><p class="s20" style="padding-top: 9pt;padding-left: 10pt;text-indent: 0pt;text-align: center;"><a name="bookmark1112">Figure 5.13. </a><span class="s21">Tracks on a disk. The outermost track is numbered 000, and the innermost track is numbered one less than the total number of tracks (199 in this example).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 177pt;text-indent: 0pt;text-align: left;"><span><img width="169" height="157" alt="image" src="Image_352.jpg"/></span></p><p class="s20" style="padding-top: 9pt;padding-left: 8pt;text-indent: 0pt;text-align: center;"><a name="bookmark1113">Figure 5.14. </a><span class="s21">Sectors of a disk. The number varies, but there are often 8 or more sectors per track.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">If a disk has 200 tracks and 8 sectors per track, it has 1600 (200 ´ 8) sectors with each sector having a unique number.</p><p style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">To access a piece of data (a record) from a disk, we need to specify its <i>disk address</i>, which represents the physical location of the record on the disk. It is comprised of <i>sector number</i>, <i>track number</i>, and <i>surface number </i>(when double-sided disks are used).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 181pt;text-indent: 0pt;text-align: left;"><span><img width="158" height="158" alt="image" src="Image_353.jpg"/></span></p><p class="s20" style="padding-top: 8pt;padding-left: 5pt;text-indent: 9pt;text-align: left;"><a name="bookmark1114">Figure 5.15. </a><span class="s21">A disk partitioning method in which all sectors occupy approximately the same amount of space.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Note that sector size (usually 512 bytes) is the smallest unit of data access by disk drives, and a file size (number of bytes in a file) is usually not a multiple of sector size. Hence, some part of the last sector allocated to a file is unused normally, resulting in on an average wastage of half sector for each file stored on disk. Hence, sector size for a disk should not be too large. It should not even be too small, otherwise the size of mapping table used to map disk addresses to data records will become too large. Some operating systems combine two or more sectors to form a <i>cluster</i>. In this case, the smallest unit of data access from a disk is a cluster, instead of a sector. That is, read/write operations read/write a whole cluster at a time. Cluster sizes vary depending on the size and type of disk, but they range from 2 to 64 sectors per cluster. Notice that a cluster- based organization may lead to more wastage of disk space as compared to sector-based organization, because on an average, it wastes half of cluster size for each file stored on disk. However, cluster-based organization leads to less management overhead for mapping of data records to physical disk locations, and faster read/write operations.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1115">Often, multiple disks are stacked together as a </a><i>disk pack </i><a href="part138.htm#bookmark1116" class="s23">to create large capacity disk-storage systems (see </a><a href="part138.htm#bookmark1116" class="s3">Figure </a><span class="s46">5.16</span>). The disk pack is sealed and mounted on a disk drive consisting of a motor to rotate the disk pack about its axis. The disk drive also has an access arms assembly having separate read/write heads for each recordable surface of the disk pack. Normally, a disk pack does not use the upper surface of the topmost disk and the lower surface of the bottommost disk  because  these  surfaces  get  scratched  easily.  However,  modern  disk  drives  use miniaturization and precision components to eliminate this drawback.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 78pt;text-indent: 0pt;text-align: left;"><span><img width="426" height="201" alt="image" src="Image_354.jpg"/></span></p><p class="s20" style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: center;"><a name="bookmark1116">Figure 5.16. </a><span class="s21">A disk pack having 4 disk platters. The upper surface of the top plate, and the lower surface of the bottom plate are not used. Hence, altogether there are 6 usable surfaces numbered 0, 1, 2, 3, 4 and 5. As shown, a set of corresponding tracks on all 6 surfaces is called a cylinder.</span></p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">All access arms (on which read/write heads are fixed) of an access arm assembly for all disk surfaces move together. Hence, if the read/write head serving the 0<span class="s22">th </span>recording surface is positioned over the 5<span class="s22">th </span>track, each of the heads on the arms serving other recording surfaces is also positioned over the 5<span class="s22">th </span>track of respective surfaces. For faster access of data, disk packs use a concept called <i>cylinder </i><a href="part138.htm#bookmark1116" class="s23">for data organization. A set of corresponding tracks on all recording surfaces of a disk pack together form a cylinder (see </a><a href="part138.htm#bookmark1116" class="s3">Figure </a><span class="s46">5.16</span>). For example, the 5<span class="s22">th </span>track of all recording surfaces together forms the 5<span class="s22">th </span>cylinder of the disk pack. Hence, if there are 200 tracks on each disk surface, there are 200 cylinders in the disk pack. Obviously, disk address of a data record on a disk pack consists of sector number, cylinder number, and surface number (track number is not required because track number and cylinder number are same). This addressing scheme is called <i>CHS (Cylinder-Head-Sector) addressing</i>. It is also known as <i>disk geometry</i>. Cylinder-based organization achieves faster access of data by avoiding movement of access arms when an application has to process large number of records in sequence. It stores related records of a file on the same cylinder of a disk pack so that in one revolution of the disk pack, the disk drive can read/write all records stored on, say cylinder 5 of all surfaces.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Storage Capacity</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 106pt;text-indent: 0pt;text-align: left;"><span><img width="358" height="62" alt="image" src="Image_355.jpg"/></span></p><p style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Let us assume that a disk pack has 10 disk plates, 2655 tracks per plate, 125 sectors per track, and 512 bytes per sector. Since the disk pack has 10 disk plates, there are 18 recording surfaces (excluding the upper surface of the topmost disk and the lower surface of the bottommost disk). Hence, its capacity = 18 ´ 2655 ´ 125 ´ 512 = 3,05,85,60,000 bytes = 3 ´ 10<span class="s22">9 </span>bytes (approximately) = 3 GB (3 Giga Bytes). As one character is stored per byte (using 8-bit EBCDIC encoding), the disk pack can store over 3 billion characters.</p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Designers prefer to increase the storage capacity of a disk by increasing the number of tracks per inch of surface and bits per inch of track, rather than increasing the disk size. Hence, a constant goal of designers of disk systems is to increase the data density of each square inch of disk surface.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1117">Access Mechanism</a></h4><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">A disk drive records data on the tracks of a spinning disk surface and reads data from the surface by using one or more <i>read/write heads </i><a href="part138.htm#bookmark1118" class="s23">on its access arms assembly (see </a><a href="part138.htm#bookmark1118" class="s3">Figure </a><span class="s46">5.17</span>). Most disk drives use a single read/write head for each disk surface. However, some faster disk systems use multiple heads on each access arm to service a number of adjacent tracks simultaneously.</p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">As the access arms assembly moves in and out in the direction shown in the figure, read/write heads move horizontally across the surfaces of the disks. The disk drive positions the read/write heads on any track on/from, which it wants to write/read data. In case of a disk pack, each usable</p><p style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">surface has its own read/write head and all heads move together. Hence, the disk drive can simultaneously access information stored on the tracks constituting a cylinder through the disk pack. Recall the cylindrical storage arrangement of information in a disk pack.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Read/write heads are of flying type. They do not have direct contact with disk surfaces. There is a separation of about 0.00002 inch between a read/write head and its corresponding disk surface. This prevents wear of a disk surface. However, read/write heads fly so close to the disk surface that if a dust particle (typically of 0.0015 inch size), smoke particle (typically of 0.00025 inch size), finger print (typically of 0.00062 inch size), or a human hair (typically of 0.03 inch size) is placed on the disk surface, it would bridge the gap between read/write head and disk surface, causing the head to crash. A <i>head crash</i>, in which the head touches the disk, destroys the data stored in the area of the crash and can destroy a read/write head as well.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 81pt;text-indent: 0pt;text-align: left;"><span><img width="422" height="152" alt="image" src="Image_356.jpg"/></span></p><p class="s20" style="padding-top: 9pt;padding-left: 26pt;text-indent: 0pt;text-align: left;"><a name="bookmark1118">Figure 5.17. </a><span class="s21">Vertical cross section of a disk system. There is one read/write head per recording surface.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-top: 6pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Access Time</h4><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Disk access time is the interval between the time a computer makes a request for transfer of data from a disk system to primary storage and the time this operation completes. To access data stored on a disk, we need to specify the disk address of the desired data in terms of surface/head number, track/cylinder number, and sector number. A disk stores information always from the beginning of a sector and reads information always from the beginning of a track. Hence, disk access time depends on the following three parameters:</p><p style="padding-top: 9pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">1. <b>Seek time. </b>When a disk unit receives a read/write command, it first positions the read/write heads on the specified track (cylinder) number by moving the access arms assembly in proper direction. The time required to position the read/write heads on the specified track/cylinder is called <i>seek time</i>. Seek time varies depending on the position of access arms assembly when a read/write command is received. If access arms assembly is on the outermost track and the specified track is the innermost one, seek time will be maximum. It will be zero, if the access arms assembly already happens to be on the specified track. Most systems specify average seek time, which is of the order of 10 to 100 milliseconds.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1119">To reduce seek time, some disk systems use multiple read/write heads on each access arm. For example, a disk system having two sets of read/write heads for each surface (one for inner tracks, and another for outer tracks), will reduce average seek time by half. This is because each read/write head needs to cover and move across only half of the total number of tracks.</a></p><p style="padding-top: 3pt;padding-left: 38pt;text-indent: -15pt;text-align: justify;">2. <b>Latency. </b>Once the disk drive positions the read/write heads on the specified track, it activates the head on the specified surface. Since the disk is continuously rotating, this head should wait for the specified sector to come under it. This rotational waiting time, i.e., the time required to spin the specified sector under the head is called <i>latency</i>. Latency, also known as <i>rotational delay time</i>, is a variable that depends on the distance of the specified sector from the initial position of the head on the specified track. It also depends on rotational speed of the disk that is anywhere from 300 rpm (rotations per minute) to 7200 rpm. Modern ultra fast disks can reach 10,000 to 15,000 rpm or more. Thus, disk systems specify average latency, which is of the order of 5 to 80 milliseconds. Note that average latency of a disk system is equal to half the time taken by the disk to rotate once. Hence, average latency of a disk system with rotational speed of 3600 rpm will be 0.5/3600 minutes = 8.3 milliseconds.</p><p style="padding-top: 4pt;padding-left: 38pt;text-indent: -15pt;text-align: justify;">3. <b>Transfer rate. </b>Transfer rate is the rate at which a computer reads/writes data from/to a disk into memory. Once the disk drive positions the read/write head on the specified sector, it reads/writes data at a speed determined by the rotational speed of the disk. If rotational speed of a disk is 3600 rpm and the disk has 125 sectors/track with 512 bytes/sector, the amount of data transferred in one full revolution of the disk is 125 ´ 512</p><p style="padding-left: 38pt;text-indent: 0pt;text-align: justify;">= 64,000 bytes = 64K bytes (approximately). Hence, transfer rate of the disk system is 64,000 ´ 3600/60 bytes/second = 38,40,000 bytes/second = 3.8 Megabytes/second (approximately). Notice that transfer rate of a disk system depends on the density of stored data and rotational speed of the disk.</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Since data transfer time is negligible (due to high transfer rate) as compared to seek time and latency, average access time for a disk system is its average seek time plus its average latency. Average access time varies from one type of disk system to another and is anywhere from 10 to 600 milliseconds.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Since access time for a piece of data stored on a disk depends on its physical location, it is more appropriate to refer to a disk system as<i>direct access storage device </i>instead of <i>random access storage device</i>. Random access refers to a storage device in which access time of any data is independent of its physical location. For example, primary storage is random access storage. However, we do not follow this distinction strictly and refer to disk systems as random access storage devices.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: justify;">Disk Formatting</h4><p style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;">Magnetic disks come in different sizes. Typical disk sizes include those with 14-inch, 9-inch, 8- inch, 5¼-inch, 3½-inch, and 3¼-inch diameter. Obviously, for proper match of dimensions, different size disks require different disk drives. Even for disks of same size, all disk drives are not the same because disk drives of different computers often have their own way of defining tracks, sectors, and sector size (number of bytes/sector) to match their own way of organizing data. This implies that computer manufacturers should also manufacture the disks used in their computer systems. This limitation prevents use of disks manufactured by third party vendors into one&#39;s own computer system. To overcome this problem, earlier computer systems provided <i>low- level disk formatting </i>utility. It enabled a user to prepare (format) a new disk before using it with the computer system. For this, the user had to insert the raw (unformatted) disk in the disk drive of the computer system and initiate disk-formatting command. The read/write head of the disk</p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">drive then laid down a magnetic pattern on the disk&#39;s surface, making it compatible for use with it.</p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Modern disk drives do not require low-level formatting because modern disk controllers present a consistent view of disk geometry to the computer while hiding the internal hardware arrangement. They accept and can work with disks that are factory formatted by their manufacturers. In fact, running a generic low-level format on these disks can cause irreparable damage to drive hardware. For this reason, modern computer systems do not provide low-level disk formatting utility.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1120">To store files and data on a disk, the operating system (OS) creates a </a><i>file-system </i>on the disk. It maintains a table with the sector and track locations of data on the disk. This table, known as <i>File Allocation Table </i>(<i>FAT</i>), enables the computer to locate data easily. The operating system&#39;s disk formatting command takes care of scanning and marking bad sectors, creating the FAT, and setting aside sufficient disk space for it.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">Disk Drive</h4><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">We have to mount a magnetic disk on a disk drive for reading/writing of data from/to it. A disk drive, also known as Hard Disk Drive (HDD), contains all mechanical, electrical, and electronic components for holding one or more disks and for reading/writing of data from/to it. It contains a central shaft on which the disks are mounted, an access arms assembly, a set of read/write heads, and motors to rotate the disks and move the access arms assembly. Although, disk drives vary in their shape, size, and disk-formatting pattern, we classify them broadly into two types:</p><p style="padding-top: 9pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">1. <b>Disk drives with interchangeable disks. </b>These disk drives allow loading and use of different disks in the same disk drive at different instances, enabling off-line storage of data on disks. They provide virtually unlimited capacity to a disk system because as many disks as required can be used one after another to store large data sets.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">2. <b>Disk drives with fixed disks. </b>These disk drives come along with a set of permanently fixed disks. The disks, read/write heads, and access mechanisms of the disk drive are housed permanently in a sealed, contamination-free container. Sealed packaging allows the disks to operate in a dust-free environment. This enables designers to provide increased data density (by using smaller magnetized spots) on each square inch of disk surface by reducing the distance between a read/write head and its corresponding disk surface. Hence, as compared to disk drives with interchangeable disks, these disk drives provide larger storage capacity with same size disks and same number of disk surfaces. However, the disks are not removable from their disk drives because of sealed packaging. Thus, storage capacity of these disk systems is limited.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h4 style="padding-left: 6pt;text-indent: 0pt;text-align: justify;">Disk Controller</h4><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">A disk controller controls a disk drive connected to it. It interprets the commands for operating the disk drive. Since disk is a direct access storage device, typically, a disk controller supports only <i>Read </i>and <i>Write </i>commands. A user has to specify disk address (consisting of surface number, cylinder/track number, and sector number) as a parameter to <i>Read </i>and <i>Write </i>commands. Often, a disk controller controls more than one disk drive connected to it. In this case, the user also has to specify disk drive number as a parameter to <i>Read </i>and <i>Write </i>commands.</p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part137.htm">&lt; Назад</a><span> | </span><a href="../index.html">Содержимое</a><span> | </span><a href="part139.htm">Далее &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
