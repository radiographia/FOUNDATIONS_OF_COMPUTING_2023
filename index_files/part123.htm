<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>DMA Architecture</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part122.htm">&lt; Назад</a><span> | </span><a href="../index.html">Содержимое</a><span> | </span><a href="part124.htm">Далее &gt;</a></p><p style="padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark121" name="bookmark941">DMA Architecture</a><a name="bookmark1009">&zwnj;</a></p><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Computer systems use I/O devices either to input or to output data. Most of the time, this involves either reading data from an input device and storing it in main memory, or reading data from main memory and outputting it to an output device. That is, data transfer takes place between main memory and I/O devices. We saw in the previous two interconnection architectures that the CPU carries out every data transfer to or from an I/O device. Hence, the CPU is involved in every data transferred between main memory and I/O devices. This leads to inefficient usage of CPU. <i>Direct Memory Access (DMA) </i>architecture, which minimizes CPU&#39;s participation in I/O data transfer, overcomes this problem.</p><p style="padding-top: 4pt;padding-left: 5pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1010">DMA architecture uses an additional hardware called</a><i>DMA controller </i>[also known as <i>Peripheral Processing Unit </i><a href="part124.htm#bookmark1013" class="s23">(PPU)]. All I/O devices connect to the DMA controller (see </a><a href="part124.htm#bookmark1013" class="s3">Figure </a><span class="s46">4.13</span>). A set of buses connect the CPU and memory. Another set of buses connect the DMA controller with both the CPU and memory so that the system can carry out data transfer to or from I/O devices directly either with the CPU or memory. An additional address bus connects the CPU and DMA controller. Out of the two address buses, one carries memory address and the other carries device address. Hence, the figure shows them as Memory Address Bus (MAB) and Device Address Bus (DAB). DMA controller has a data register to temporarily store the data for transfer; a memory</p><p style="padding-top: 3pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;"><a name="bookmark1012">address register to keep track of the memory location from/to where data transfer takes place; a counter to keep track of how many memory words to transfer; a “busy” indicator to indicate that it is currently busy and cannot accept any new I/O requests now; and a “data ready” indicator to indicate to the CPU that the requested data is ready in its data register for transfer.</a></p><p style="padding-top: 5pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">Data transfer in this case takes place in the following manner:</p><p style="padding-top: 9pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">1. The CPU sends the I/O request (say a data READ request) to DMA controller. It sends device address of the device from which to read data, memory location at which to store data, and the READ command along with the number of memory words to read by using the device address bus, the memory address bus, and the control bus respectively. After sending the request, the CPU continues with its normal execution since it has no further direct role in processing this I/O request.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">2. On receiving the request, the DMA controller sets its “busy” indicator to ON and stores the received memory address and number of memory words to be read in its memory address register and counter respectively.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">3. It then reads the first memory word to be transferred from the specified I/O device into its data register and sets the “data ready” indicator to ON.</p><p style="padding-top: 4pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">4. It now sends an interrupt signal to the CPU.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">5. On receiving the interrupt signal, the CPU completes execution of the instruction that it is currently executing, then yields the memory address and data buses to the DMA controller for one memory cycle.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">6. DMA controller then transfers the data in its data register to the memory location specified by the contents of its memory address register. It then decrements the value of its counter by one and increments the value stored in its memory address register by one.</p><p style="padding-top: 4pt;padding-left: 39pt;text-indent: -15pt;text-align: justify;">7. DMA controller now reads the next word from the I/O device and stores it in its data register. It then interrupts the CPU, which yields a memory cycle and the memory address and data buses to the DMA controller to enable it to transfer the word from its data register to the appropriate memory location. DMA controller then decrements its counter value and increments the value stored in its memory address register. It repeats this procedure until the DMA controller&#39;s counter value becomes zero.</p><p style="padding-top: 9pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">This procedure of the DMA controller taking a memory cycle from the CPU to enable it to transfer data directly to memory is known as <i>cycle stealing</i>.</p><p style="padding-top: 4pt;padding-left: 6pt;text-indent: 0pt;text-align: justify;">DMA architecture leads to efficient CPU utilization because the DMA controller processes an I/O request without direct participation of the CPU. However, this advantage requires provisioning of an extra hardware (DMA controller) and an additional bus (device address bus).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part122.htm">&lt; Назад</a><span> | </span><a href="../index.html">Содержимое</a><span> | </span><a href="part124.htm">Далее &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
